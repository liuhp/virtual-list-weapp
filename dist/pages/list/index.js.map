{"version":3,"file":"pages/list/index.js","sources":["webpack:///./src/pages/list/index.vue?a274","webpack:///._src_pages_list_index.vue","webpack:///./src/pages/list/index.vue?9b3d","webpack:///./src/pages/list/index.vue?d373","webpack:///./src/pages/list/index.vue?6554"],"sourcesContent":["import { render } from \"./index.vue?vue&type=template&id=335db125&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/liuhaiping17/Downloads/test/myAppvr/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"src/pages/list/index.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"335db125\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('335db125', __exports__)) {\n    console.log('reload')\n    api.reload('335db125', __exports__)\n  }\n  \n  module.hot.accept(\"./index.vue?vue&type=template&id=335db125&ts=true\", () => {\n    console.log('re-render')\n    api.rerender('335db125', render)\n  })\n\n}\n\n\nexport default __exports__","<template>\n<div>\n  <virtual-block\n    :allDataList=\"dataList\"\n    :scrollHeight=\"scrollHeight\"\n    :blockHeight=\"blockHeight\"\n    :onRequesting=\"onRequesting\"\n    :msg=\"msg\"\n    :refresherTriggered=\"refresherTriggered\"\n    @bottom=\"onBottom\"\n    @onRefresh=\"onRefresh\"\n  >\n  <template v-slot:item-content=\"item\">\n    <div style=\"height: 80px;line-height: 80px;text-align: center;border-bottom: 1px solid #000\">{{item.thisItem}}</div>\n  </template>\n  </virtual-block>\n</div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, onMounted, reactive, toRefs } from \"vue\"\nimport Taro from \"@tarojs/taro\"\n\nexport default defineComponent({\n  setup() {\n    interface stateInterface {\n      dataList: string[],\n      isComplete:boolean,\n      scrollHeight: number,\n      blockHeight: number,\n      onRequesting: boolean,\n      msg: string,\n      refresherTriggered: boolean\n\n    }\n    const  state = reactive<stateInterface>({\n      dataList:[],\n      isComplete: false,\n      scrollHeight: 600,\n      blockHeight: 80,\n      onRequesting: false,\n      msg: '玩命加载中...',\n      refresherTriggered: false\n\n    })\n    onMounted(async() => {\n      await getList()\n      state.scrollHeight = Taro.getSystemInfoSync().windowHeight\n    })\n    const getList = () => {\n      state.onRequesting = true\n      state.msg = '玩命加载中...'\n       setTimeout(() => {\n          const curLen = state.dataList.length;\n          for (let i = curLen; i < curLen + 10; i++) {\n            state.dataList.push(`${i}`);\n\n          }\n          state.onRequesting = false\n          \n          if (state.dataList.length > 30) {\n            state.isComplete = true\n            state.onRequesting = true\n            state.msg = '我是底部哦~'\n            console.log('我是底部哦~')\n          }\n        }, 500);\n    }\n    const onBottom = () => {\n      console.log('bottom')\n      loadMore()\n    }\n\n    const loadMore = async () => {\n      if (state.isComplete) return\n      if (state.onRequesting) return\n      await getList()\n    }\n\n    const onRefresh = async() => {\n      console.log('onRefresh')\n      state.refresherTriggered = true\n      state.dataList = []\n      state.isComplete = false\n      await getList()\n      state.refresherTriggered = false\n    }\n\n    return {\n      ...toRefs(state),\n      getList,\n      onBottom,\n      onRefresh,\n      loadMore\n    }\n  }\n})\n\n</script>\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {\"navigationBarTitleText\":\"列表\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/list/index', {root:{cn:[]}}, config || {}))\n\n","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=ts\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/templateLoader.js??ref--6!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=template&id=335db125&ts=true\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAcA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACLA;AACA;AAEA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AACA;AADA;AAMA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAQA;AAEA;AACA;AACA;AACA;AALA;AAOA;AAxEA;;;;;;;;;;;;;;;;;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;AAZA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAHA;AACA;AAAA;AAAA;AAAA;;;;AAXA;;AAAA;;;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;A","sourceRoot":""}